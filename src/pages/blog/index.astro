---
// Component Imports
import Box from '@/components/Box/Box';
import Text from '@/components/Text/Text';
import AboutMe from '@/components/AboutMe/AboutMe';
import ContactCTA from '@/components/ContactCTA/ContactCTA';
import DefaultPage from '@/layouts/DefaultPage.astro';
import Stack from '@/components/Stack/Stack';
import Link from '@/components/Link/Link';

// Import MDX posts
const posts = await Astro.glob('./**/*.mdx');

---

<DefaultPage title="The blog and portfolio of Ryosuke">
	<Box as="section" paddingTop={10} px={{
		mobile: 4,
		tablet: 8
	}}>
        <Box mb={6}><Text as="h1" fontFamily="heading" fontSize={6}>Blog archive</Text></Box>
        <Stack vertical>
		{posts.map(post => 
            <Link href={post.url} underline={false} style={{width:'100%'}}>
                <Box style={{ borderBottom: '1px solid #CCC', display:'flex', justifyContent: 'space-between', alignItems: 'center'}}>
                    <Text fontFamily="heading" fontSize={2} lineHeight={3}>{post.frontmatter.title}</Text>
                    <Text>{post.frontmatter.tags.map(tag => `#${tag}`).join(', ')}</Text>
                </Box>
            </Link>
        )}
        </Stack>
	</Box>
</DefaultPage>
